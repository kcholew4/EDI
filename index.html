<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <header>
        <div class="container">
            <h1>Top users ranking</h1>
            <div>
                <div>Kamil Cholewa</div>
                <div>Olaf Bodzioch</div>
                <div>Norbert Wy≈ºykowski</div>
            </div>
        </div>
    </header>
    <div class="table-container">
      <div class="table">
        <table>
          <thead>
              <tr id="table-head"></tr>
          </thead>
          <tbody id="table-body">
          </tbody>
      </table>
      </div>
    </div>
</head>
<body>
    <script>
        const tableHead = document.querySelector("#table-head");
        const tableBody = document.querySelector("#table-body");

        const fetchData = async () => {
            const response = await fetch("https://my.api.mockaroo.com/edi.json?key=08ed3400")

            const text = await response.text();

            const data = JSON.parse(text);

            return data;
        }

        async function main() {
            const data = await fetchData();

            const keys = Object.keys(data[0]);

            //Display table head from data fetched from api
            for (const key of keys) {
                const th = document.createElement("th");
                th.innerHTML = key;
                tableHead.appendChild(th);
            }

            for (const row of data) {
                const tr = document.createElement("tr");

                for (const [key, value] of Object.entries(row)) {
                    const td = document.createElement("td");
                    td.innerHTML = value;
                    tr.appendChild(td);
                }

                tableBody.appendChild(tr);
            }
        }

        main();
    </script>
</body>
</html>